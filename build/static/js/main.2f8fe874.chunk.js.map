{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","props","react_default","a","createElement","onSubmit","add","value","name","onChange","handleNameChange","number","handleNumberChange","type","Persons","_ref","namesToShow","handleRemoval","map","person","key","onClick","id","Filter","filter","handleChange","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","message","text","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","setMessage","useEffect","personService","initialPersons","toLowerCase","startsWith","components_Notification","components_Filter","event","console","log","target","components_PersonForm","preventDefault","personObject","personToBeChanged","find","window","confirm","returnedPerson","setTimeout","catch","error","components_Persons","personToBeRemoved","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2f8fe874.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props)=>{\n\n\n    return (\n        <form onSubmit={props.add}>\n            <div>\n                name: <input\n                value={props.name}\n                onChange={props.handleNameChange}/>\n            </div>\n            <div>\n                number: <input\n                value={props.number}\n                onChange={props.handleNumberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({namesToShow, handleRemoval}) => {\n\n    return (\n        <div>\n            {namesToShow.map((person) =>\n                <p key={person.name}>{person.name} {person.number}\n                    <button onClick={()=>handleRemoval(person.id)}>Delete</button>\n                </p>)}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({filter, handleChange})=> {\n\n    return (\n        <div>\n            Filter shown with: <input\n            value={filter}\n            onChange={handleChange}/>\n        </div>\n    )\n}\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id =>{\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then((response) => response.data)\n}\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message.text === null) {\n        return null\n    }\n\n    return (\n        <div className={message.type}>\n            {message.text}\n        </div>\n    )\n}\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [ persons, setPersons] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ newFilter, setNewFilter ] = useState('')\n    const [message, setMessage] = useState({text: null, type: null})\n\n    useEffect(() => {\n\n        personService\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })\n    }, [])\n    const namesToShow = newFilter === ''\n        ? persons\n        : persons.filter(person => person.name.toLowerCase().startsWith(newFilter.toLowerCase()))\n\n    const handleNameChange = (event) => {\n        console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        console.log(event.target.value)\n        setNewNumber(event.target.value)\n    }\n    const handleFilterChange = (event) => {\n        console.log(event.target.value)\n        setNewFilter(event.target.value)\n    }\n    const addName = (event) => {\n        event.preventDefault()\n\n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n        const personToBeChanged = persons.find(person=> person.name === newName)\n\n        if(personToBeChanged){\n            if(window.confirm(`${personToBeChanged.name} is already added to phonebook, repalce the old number with new one`)) {\n                personService\n                    .update(personToBeChanged.id, personObject)\n                    .then(returnedPerson => {\n                        setPersons(persons.map(person => person.id !== personToBeChanged.id ? person : returnedPerson))\n                        setMessage(\n                            {text: `Person '${returnedPerson.name}' phone number was updated`, type: 'info'}\n                        )\n                        setTimeout(() => {\n                            setMessage({text: null, type: null})\n                        }, 2000)\n                    })\n            }\n\n            setNewName('')\n            setNewNumber('')\n            return\n        }\n\n        personService\n            .create(personObject)\n            .then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson))\n                return returnedPerson\n\n            })\n            .then( (returnedPerson) =>{\n                setMessage(\n                    {text: `Person '${returnedPerson.name}' was added`, type: 'info'}\n                )\n                setTimeout(() => {\n                    setMessage({text: null, type: null})\n                }, 2000)\n                setNewName('')\n                setNewNumber('')\n        }).catch(error => {\n            console.log(error.response.data)\n            setMessage(\n                {text: error.response.data.error, type: 'error'}\n            )\n\n            setTimeout(() => {\n                setMessage({text: null, type: null})\n            }, 5000)\n        })\n\n\n    }\n    const removePerson = (id) =>{\n\n        const personToBeRemoved = persons.find((person)=> person.id === id)\n\n        if(!window.confirm(`Remove ${personToBeRemoved.name}`)){\n            return false\n        }\n\n        personService\n            .remove(id)\n            .then((response) =>{\n                setPersons(persons.filter(person => person.id !== id))\n\n            })\n            .then(()=>{\n                setMessage(\n                    {text: `Person '${personToBeRemoved.name}' was removed`, type: 'info'}\n                )\n                setTimeout(() => {\n                    setMessage({text: null, type: null})\n                }, 2000)\n            })\n            .catch(error => {\n                setMessage(\n                    {text: `Person '${personToBeRemoved.name}' was already removed from server`, type: 'error'}\n                )\n                setPersons(persons.filter(person => person.id !== personToBeRemoved.id))\n                setTimeout(() => {\n                    setMessage({text: null, type: null})\n                }, 2000)\n            })\n    }\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={message}/>\n            <Filter filter={newFilter} handleChange={handleFilterChange}/>\n\n            <h2>Add new</h2>\n            <PersonForm add={addName}\n                        name={newName}\n                        number={newNumber}\n                        handleNameChange={handleNameChange}\n                        handleNumberChange={handleNumberChange}/>\n            <h2>Numbers</h2>\n            <Persons namesToShow={namesToShow} handleRemoval={removePerson}/>\n        </div>\n    )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}